var jsonpatch;(function(e){function r(e,r,i){try{r.forEach(function(r){var i=r.path.split("/");i.shift();var s=e;var o=0;var u=i.length;while(true){if(s instanceof Array){var a=parseInt(i[o],10);o++;if(o>=u){n[r.op].call(r,s,a,e);break}s=s[a]}else{var f=i[o];if(f.indexOf("~")!=-1){f=f.replace("~1","/").replace("~0","~")}o++;if(o>=u){t[r.op].call(r,s,f,e);break}s=s[f]}}})}catch(s){return false}return true}var t={add:function(e,t){e[t]=this.value},remove:function(e,t){delete e[t]},replace:function(e,t){e[t]=this.value},move:function(e,t,n){var i={op:"_get",path:this.from};r(n,[i],undefined);r(n,[{op:"remove",path:this.from}],undefined);r(n,[{op:"add",path:this.path,value:i.value}])},copy:function(e,t,n){var i={op:"_get",path:this.from};r(n,[i],undefined);r(n,[{op:"add",path:this.path,value:i.value}])},test:function(e,t){if(JSON.stringify(e[t])!=JSON.stringify(this.value)){throw""}},_get:function(e,t){this.value=e[t]}};var n={add:function(e,t){e.splice(t,0,this.value)},remove:function(e,t){e.splice(t,1)},replace:function(e,t){e[t]=this.value},move:t.move,copy:t.copy,test:t.test,_get:t._get};e.apply=r})(jsonpatch||(jsonpatch={}))